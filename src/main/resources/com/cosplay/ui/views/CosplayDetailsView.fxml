<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.geometry.Insets?>

<VBox xmlns="http://javafx.com/javafx/22" xmlns:fx="http://javafx.com/fxml/1"
    fx:controller="com.cosplay.ui.controllers.CosplayDetailsController"
    spacing="0">
    
    <!-- Navigation Bar -->
    <fx:include source="/com/cosplay/ui/views/components/NavBar.fxml" fx:id="navBar" />
    
    <!-- Main Content Area -->
    <ScrollPane fx:id="scroll" fitToWidth="true" fitToHeight="true" VBox.vgrow="ALWAYS" style="-fx-background-color: white;" pannable="false">
        <VBox fx:id="contentRoot" spacing="20" style="-fx-padding: 30 30; -fx-background-color: white;">
            
            <!-- Responsive Three Column Layout -->
            <GridPane fx:id="detailsGrid" hgap="30" vgap="15">
                <columnConstraints>
                    <!-- Left: 32%, Middle: 40%, Right: 28% -->
                    <ColumnConstraints percentWidth="32" hgrow="SOMETIMES" />
                    <ColumnConstraints percentWidth="40" hgrow="ALWAYS" />
                    <ColumnConstraints percentWidth="28" hgrow="SOMETIMES" />
                </columnConstraints>
                <rowConstraints>
                    <RowConstraints vgrow="ALWAYS" />
                </rowConstraints>
                
                <!-- Left Column - Image with Category Tag -->
                <VBox fx:id="leftColumn" spacing="18" GridPane.columnIndex="0">
                    <!-- Category Tag -->
                    <Label fx:id="lblCategoryTag" text="Mobile Legends: Bang Bang" 
                           style="-fx-background-color: #f5d99f; -fx-text-fill: #333; -fx-font-size: 15px; -fx-font-weight: bold; -fx-padding: 12 22; -fx-background-radius: 24;"/>
                    
                    <!-- Cosplay Image with Rounded Border -->
                    <StackPane style="-fx-background-color: #f5d99f; -fx-background-radius: 24; -fx-padding: 14;">
                        <ImageView fx:id="cosplayImage" preserveRatio="true" />
                        <!-- Overlay carousel arrows -->
                        <Button fx:id="btnImagePrev" text="◀" onAction="#handlePrevImage"
                                style="-fx-background-color: rgba(0,0,0,0.2); -fx-text-fill: white; -fx-background-radius: 20; -fx-padding: 4 10;" StackPane.alignment="CENTER_LEFT" />
                        <Button fx:id="btnImageNext" text="▶" onAction="#handleNextImage"
                                style="-fx-background-color: rgba(0,0,0,0.2); -fx-text-fill: white; -fx-background-radius: 20; -fx-padding: 4 10;" StackPane.alignment="CENTER_RIGHT" />
                    </StackPane>
                </VBox>
                
                <!-- Middle Column - Product Details -->
                <VBox fx:id="middleColumn" spacing="20" GridPane.columnIndex="1">
                    
                    <!-- Product Title -->
                    <Label fx:id="lblCosplayName" text="Angela Floral Elf Skin" 
                           style="-fx-font-size: 34px; -fx-font-weight: bold; -fx-text-fill: #333;"/>
                    
                    <!-- Size Info -->
                    <Label fx:id="lblSize" text="Medium" 
                        style="-fx-font-size: 16px; -fx-text-fill: #333; -fx-background-color: white; -fx-border-color: #f5d99f; -fx-border-width: 2; -fx-border-radius: 20; -fx-background-radius: 20; -fx-padding: 8 20;"/>
                    
                    <!-- Inclusions Section -->
                    <VBox spacing="15">
                        <Label text="Inclusions" 
                               style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #333;"/>
                        <FlowPane fx:id="inclusionsFlow" hgap="10" vgap="10" prefWrapLength="560"/>
                    </VBox>
                    
                    <!-- Action Buttons -->
                    <HBox spacing="20" style="-fx-padding: 20 0 0 0;">
                        <StackPane fx:id="btnOrderQuote" styleClass="primary-tile">
                            <VBox spacing="10" alignment="CENTER">
                                <Label fx:id="lblQuoteIcon" style="-fx-font-size: 56px; -fx-font-weight: bold; -fx-text-fill: white;"/>
                                <Label text="Order Quote" style="-fx-font-size: 15px; -fx-font-weight: bold; -fx-text-fill: white;"/>
                            </VBox>
                        </StackPane>
                        
                        <StackPane fx:id="btnOrderForm" styleClass="primary-tile">
                            <VBox spacing="10" alignment="CENTER">
                                <Label fx:id="lblFormIcon" style="-fx-font-size: 48px; -fx-text-fill: white; -fx-font-weight: bold;"/>
                                <Label text="Order Form" style="-fx-font-size: 15px; -fx-font-weight: bold; -fx-text-fill: white;"/>
                            </VBox>
                        </StackPane>
                    </HBox>
                    
                </VBox>
                
                <!-- Right Column - Reserved Dates & Add-ons -->
                <VBox fx:id="rightColumn" spacing="30" GridPane.columnIndex="2">
                    
                    <!-- Reserved Dates Section -->
                    <VBox spacing="15" styleClass="section-card">
                        <Label text="Reserved Dates" styleClass="section-title"/>
                        
                        <!-- Calendar Controls -->
                        <HBox spacing="10" alignment="CENTER">
                            <Button fx:id="btnPrevMonth" text="◀" onAction="#handlePrevMonth"
                                    style="-fx-background-color: transparent; -fx-text-fill: #e6a84c; -fx-cursor: hand; -fx-border-width: 0; -fx-font-size: 14px;"/>
                            <Label fx:id="lblCalendarMonth" text="DEC 2025" HBox.hgrow="ALWAYS" alignment="CENTER"
                                   style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #333;"/>
                            <Button fx:id="btnNextMonth" text="▶" onAction="#handleNextMonth"
                                    style="-fx-background-color: transparent; -fx-text-fill: #e6a84c; -fx-cursor: hand; -fx-border-width: 0; -fx-font-size: 14px;"/>
                        </HBox>
                        
                        <!-- Calendar Grid -->
                        <GridPane fx:id="calendarGrid" hgap="2" vgap="2" alignment="CENTER"/>
                    </VBox>
                    
                </VBox>
                
            </GridPane>
            
        </VBox>
    </ScrollPane>
    
</VBox>
